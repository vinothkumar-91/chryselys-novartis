<div class="box-shadow p-4 grid-system" #maincontainer>
    <div class="box-title">
        <span [routerLink]="'/PIT/REDPLANUP'" class="pr-2 c-p">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="21" viewBox="0 0 24 21" fill="none">
                <path d="M23 10.5H1M1 10.5L10.625 1M1 10.5L10.625 20" stroke="#C98B27" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" />
            </svg></span> {{detailView.investigator_name}}

    </div>
    <div class="row px-2">

        <div class="col-4">
            <div class="box-shadow card-box" style="min-height:500px">

                <div class="scale-0_5">
                    <app-loader *ngIf="apiCall['detailView']"></app-loader>
                </div>
                <div class="fw-100 val-data" *ngIf="!apiCall['detailView']">
                    <!-- {{detailView | json}} -->

                    <img src='./assets/image/redplanup-profile.svg' height="100" class="profile-icon" />
                    <table class="detail-profile">
                        <tr>
                            <td colspan="2">
                                <div class="lb">Name :</div>
                                <div class="vl text-capitalize">{{detailView.investigator_name.toLowerCase()}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="lb">Credentials :</div>
                                <div class="vl text-uppercase">{{detailView.prvdr_credentials.toLowerCase()}}</div>
                            </td>
                            <td>
                                <div class="lb">Specialty :</div>
                                <div class="vl text-capitalize">{{(detailView.prvdr_specialty)?detailView.prvdr_specialty.toLowerCase():''}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="lb">Gender :</div>
                                <div class="vl text-capitalize">{{detailView.prvdr_gender.toLowerCase()}}</div>
                            </td>
                            <td>
                                <div class="lb">Zip :</div>
                                <div class="vl">{{detailView.prvdr_zip_code}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="lb">Address :</div>
                                <div class="vl text-capitalize">{{(detailView.prvdr_address_1)?detailView.prvdr_address_1.toLowerCase():''}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="lb">City :</div>
                                <div class="vl text-capitalize">{{(detailView.prvdr_city)?detailView.prvdr_city.toLowerCase():''}}</div>
                            </td>
                            <td>
                                <div class="lb">State :</div>
                                <div class="vl text-capitalize">{{(detailView.prvdr_state)?detailView.prvdr_state.toLowerCase():''}}</div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="lb">Race and ethnicity :</div>
                                <div class="vl text-capitalize">{{(detailView.race)?detailView.race.toLowerCase():''}}</div>
                            </td>
                        </tr>
                    </table>


                </div>
            </div>
        </div>

        <div class="col-8">
            <div class="row px-2">

                <div class="col-12">
                    <div class="box-shadow card-box">
                        <div class="row px-2">
                            <div class="col-3">
                                <div class="box-shadow card-box" style="height:222px">
                                    <h6 class="title-inner">Average Patient Age <div class="float-end"><img src="./assets/image/icons/info.svg" height="16"  alt=""
                                        matTooltip="Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"></div></h6>
                                    <div class="scale-0_5">
                                        <app-loader *ngIf="apiCall['detailView']"></app-loader>
                                    </div>
                                    <div class="fw-100 val-data" *ngIf="!apiCall['detailView']">
                                        <div class="avg-age">{{detailView.avg_patient_age}}</div>
<!-- <div class="mt-4">Age: <strong>{{detailView.avg_patient_age.toFixed(2)}}%</strong></div> -->
                                        <div class="progress mt-2"  *ngIf="!apiCall['detailView']" style="--bs-progress-height:10px">
                                            <div class="progress-bar" role="progressbar" [style.width.%]="detailView.avg_patient_age.toFixed(2)" style="background-color: rgba(201, 139, 39, 1);" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-9">
                                <div class="box-shadow card-box" style="height:222px">
                                    <h6 class="title-inner">Patient By Age<div class="float-end"><img src="./assets/image/icons/info.svg" height="16"  alt=""
                                        matTooltip="Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"></div></h6>
                                    <div class="fw-100 val-data">
                                        <div class="scale-0_5">
                                            <app-loader *ngIf="apiCall['detailView']"></app-loader>
                                        </div>
                                        <div class="fw-100 val-data" *ngIf="!apiCall['detailView']">
                                                <div class="row">
                                                    <div class="col b-r">

                                                        <!-- <app-simple [val]="getChartVal(35)" [color]="'#004567'"
                                                            [color2]="'rgb(201 139 39 / 20%)'" [width]="80"
                                                            height="auto" class="mt-3"></app-simple> -->

                                                         <app-simple [val]="{val:detailView.age_less_than_65,per:detailView.age_less_than_65_per}" [color]="'#004567'" [color2]="'rgb(201 139 39 / 20%)'" [width]="80" height="auto" class="mt-3"></app-simple>
                                                        <strong
                                                            class="fw-100 text-center my-2 title-inner">&lt;65</strong>
                                                    </div>
                                                    <div class="col b-r">

                                                        <app-simple
                                                            [val]="{val:detailView.age65_74,per:(detailView.age65_74_per)}"
                                                            [color]="'#004567'" [color2]="'rgb(201 139 39 / 20%)'"
                                                            [width]="80" height="auto" class="mt-3"></app-simple>
                                                        <strong
                                                            class="fw-100 text-center my-2 title-inner">65-74</strong>
                                                    </div>
                                                    <div class="col b-r">
                                                        <app-simple
                                                            [val]="{val:detailView.age75_84,per:(detailView.age75_84_per)}"
                                                            [color]="'#004567'" [color2]="'rgb(201 139 39 / 20%)'"
                                                            [width]="80" height="auto" class="mt-3"></app-simple>
                                                        <strong
                                                            class="fw-100 text-center my-2 title-inner">75-84</strong>
                                                    </div>
                                                    <div class="col">
                                                        <app-simple
                                                            [val]="{val:detailView.age_greaterthan_84,per:(detailView.age_greaterthan_84_per)}"
                                                            [color]="'#004567'" [color2]="'rgb(201 139 39 / 20%)'"
                                                            [width]="80" height="auto" class="mt-3"></app-simple>
                                                        <strong
                                                            class="fw-100 text-center my-2 title-inner">&gt;50</strong>
                                                    </div>
                                                </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="box-shadow card-box">
                                    <h6 class="title-inner">Patient By Gender<div class="float-end"><img src="./assets/image/icons/info.svg" height="16"  alt=""
                                        matTooltip="Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"></div></h6>
                                    <div class="fw-100 val-data">
                                        <div class="scale-0_5">
                                            <app-loader *ngIf="apiCall['detailView']"></app-loader>
                                        </div>
                                        <!-- {{((detailView.female_cnt_per + detailView.male_cnt_per)) | json}} -->
                                        <div class="lbl-list"  *ngIf="!apiCall['detailView']">
                                            <span [style.width.%]="detailView.male_cnt_per" class="lbl">Male</span>
                                            <span [style.width.%]="detailView.female_cnt_per" class="lbl">Female</span>
                                            <span [style.width.%]="(100 - (detailView.male_cnt_per + detailView.female_cnt_per))"
                                            *ngIf="(100 - (detailView.male_cnt_per + detailView.female_cnt_per))"
                                            class="lbl">Others</span>
                                        </div>

                                        <div class="progress big-progress"  *ngIf="!apiCall['detailView']">
                                            <div class="progress-bar male" role="progressbar" [style.width.%]="detailView.male_cnt_per"
                                                aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">{{detailView.male_cnt_per}}%</div>
                                            <div class="progress-bar female" role="progressbar" [style.width.%]="detailView.female_cnt_per"
                                            [style]="{width:'calc('+(detailView.female_cnt_per)+'% + 15px)'}"
                                                aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">{{detailView.female_cnt_per}}%</div>
                                            <div class="progress-bar others" role="progressbar"
                                            [style]="{width:'calc('+(100 - (detailView.male_cnt_per + detailView.female_cnt_per))+'% + 30px)'}"
                                            *ngIf="(100 - (detailView.male_cnt_per + detailView.female_cnt_per))"
                                                aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                                                {{(100 - (detailView.male_cnt_per + detailView.female_cnt_per))}}%
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="box-shadow card-box">
                                    <h6 class="title-inner">Patient By Race & Ethnicity<div class="float-end"><img src="./assets/image/icons/info.svg" height="16"  alt=""
                                        matTooltip="Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"></div></h6>
                                    <div class="fw-100 val-data">
                                        <div class="scale-0_5">
                                            <app-loader *ngIf="apiCall['detailView']"></app-loader>
                                        </div>

                                        <div class="fw-100 val-data" *ngIf="!apiCall['detailView']">
                                            <div class="mini-barchart scroll-div" *ngIf="!apiCall['trialsSponsor']">
                                                <ul>
                                                  <li *ngFor="let s of detailView.race_ethnicity" class="d-flex align-items-center">
                                                    <div class="pe-4 ps-0 name">{{s.name}}</div>
                                                    <div class="px-2 py-0 ps-0  w-100 per">
                                                      <div class="progress fw-100">
                                                        <div class="progress-bar" role="progressbar" [style.width.%]="s.val" ></div>
                                                      </div>
                                                    </div>
                                                    <div class="ms-auto px-2 flex-shrink-1 val">{{(s.val).toFixed(1)}}%</div>
                                                  </li>
                                                </ul>
                                              </div>
                                        </div>





                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>