
  <div class="row p-3" >
    <div class="card-box blur-loader-layer"  [ngClass]="{'blur-loader-layer':apiCall}">

      <div class="table-header-area mt-1">
          <div class="float-start">
            <h6 class="title-inner fw-100 mt-2">Investigator Targeting</h6>
          </div>
          <div class="tablesearch float-end mb-2">
              <!-- <svg xmlns="http://www.w3.org/2000/svg" width="30" height="28" viewBox="0 0 30 28" fill="none" class="donwloadbutton c-p"  (click)="exporter.exportTable('xlsx',{fileName:'REDPLANUP'})" >
                <path d="M14.9892 27.4509C11.2604 27.4509 7.5317 27.4509 3.80297 27.4509C1.6329 27.4509 0.00352418 25.8267 0.000404773 23.6692C0.000404773 22.0096 0.000404773 20.3498 0.000404773 18.6895C-0.00716358 18.3946 0.0916159 18.1068 0.278703 17.8787C0.46579 17.6505 0.7287 17.4973 1.01941 17.447C1.68385 17.343 2.26718 17.6695 2.48346 18.2726C2.53663 18.4462 2.55777 18.628 2.54584 18.8091C2.54584 20.3258 2.54584 21.8429 2.54584 23.3603C2.54584 24.4345 3.01895 24.9065 4.09307 24.9065H25.8853C26.9875 24.9065 27.445 24.4438 27.4502 23.3395C27.4502 21.8225 27.4502 20.3054 27.4502 18.7883C27.4502 17.9617 27.9514 17.4366 28.7239 17.4366C29.4965 17.4366 29.9966 17.9658 29.9977 18.7883C29.9977 20.4603 30.0029 22.1334 29.9977 23.8064C29.9894 25.782 28.3184 27.4457 26.3313 27.4457C22.5506 27.454 18.7699 27.4558 14.9892 27.4509Z" fill="#004567"/>
                <path d="M13.7251 18.5055V17.969C13.7251 12.4324 13.7251 6.89613 13.7251 1.36022C13.7251 0.486785 14.2668 -0.0393569 15.1091 0.00223519C15.4104 0.0183864 15.6953 0.144462 15.91 0.356591C16.1246 0.56872 16.254 0.852178 16.2736 1.1533C16.282 1.29471 16.2736 1.4382 16.2736 1.58066V18.5097C16.5856 18.2695 16.8341 18.0782 17.0805 17.8858C18.1973 16.9957 19.313 16.105 20.4276 15.2135C20.8082 14.9089 21.2252 14.781 21.6993 14.9286C22.1735 15.0763 22.4844 15.3934 22.5717 15.8821C22.6653 16.402 22.5249 16.8502 22.0903 17.1954C20.3933 18.5437 18.6991 19.8954 17.0077 21.2506C16.6428 21.5418 16.2799 21.8381 15.9128 22.1251C15.2952 22.6055 14.7046 22.6138 14.0984 22.1324C12.1075 20.5491 10.1201 18.9613 8.13613 17.369C7.4769 16.8398 7.37188 16.036 7.85851 15.4548C8.33058 14.8912 9.12291 14.8579 9.77174 15.3747L13.3622 18.2373C13.4537 18.3101 13.5493 18.3756 13.7251 18.5055Z" fill="#004567"/>
              </svg> -->
              <img src="./assets/image/icons/download.svg" height="28" alt="" class="donwloadbutton c-p"  (click)="exporter.exportTable('xlsx',{fileName:'REDPLANUP'})">
              <mat-form-field appearance="fill">
                  <img src="./assets/image/search.svg" class="search-icon" height="36" alt="">
                  <input type="text" class="table-search" placeholder="Search ..." matInput
                      #searchContainer autocomplete="off" [(ngModel)]="filterValue" #ctrl="ngModel"
                      (keyup)="applyFilter(searchContainer.value)" />
              </mat-form-field>
          </div>
      </div>
      <div class="table-responsive table-theme1 fw-100">
        <mat-table matTableExporter [dataSource]="data_dataSource" matSort #dataTable class="no-wrap"
            (matSortChange)="sortData()" matSortActive="name" matSortStart="asc" matSortDisableClear
            #exporter="matTableExporter" [hiddenColumns]="[5]">
            <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumns_order">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>

                    <!-- "investigator_name": "eric m harris",
                    "npi": 1902068158,
                    "prvdr_address_1": "224 memorial medical pkwy",
                    "prvdr_address_2": "suite 300",
                    "prvdr_city": "daytona beach",
                    "prvdr_credentials": "do",
                    "prvdr_gender": "m",
                    "prvdr_specialty": "HEMATOLOGY/ONCOLOGY",
                    "prvdr_state": "fl",
                    "prvdr_zip_code": "32117" -->


                    <span *ngIf="column == 'rank'">Rank</span>
                    <span *ngIf="column == 'npi'">NPI</span>
                    <span *ngIf="column == 'investigator_name'">Investigator Name</span>
                    <span *ngIf="column == 'prvdr_credentials'">Credentials</span>
                    <span *ngIf="column == 'prvdr_specialty'">Specialty</span>
                    <span *ngIf="column == 'moreinfo'">More Info</span>
                  </th>
                <td mat-cell *matCellDef="let element" [title]="element[column]" >
                    <!-- {{element[column]}} -->
                    <span *ngIf="column!='moreinfo'" class="text-capitalize">{{(element[column])?element[column].toLowerCase():'-'}}</span>
                    <div *ngIf="column=='moreinfo'" class="text-center">
                        <button class="btn btn-primary btn-sm"  [routerLink]="'/PIT/REDPLANUPDetails/'+element.npi">
                            <span>View</span>
                        </button>
                    </div>
                </td>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns_order"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns_order;" ></mat-row>
        </mat-table>

        <table class="mat-table no-data">
            <tr class="mat-row"
                *ngIf="data_dataSource && (!data_dataSource.data.length || !data_dataSource.filteredData.length) && !apiCall">
                <td class="mat-cell" style="text-align: center;" [attr.colspan]="displayedColumns_order.length">
                    No Records Found! <span
                        *ngIf="!data_dataSource.filteredData.length && data_dataSource.data.length">(Search
                        Result)</span>
                </td>
            </tr>
        </table>
    </div>
    <mat-paginator #orderMatPaginator showFirstLastButtons (page)="pageChanged($event)" [length]="totalRows"
        [pageIndex]="currentPage" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"></mat-paginator>
    </div>
  </div>